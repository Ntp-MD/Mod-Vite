import{h as Q,r as P,i as m,w as E,f as X,_ as Z,c as S,j as s,k as J,l as $,a as t,F as j,m as B,t as p,p as K,q,v as Y,s as z,n as C,x as tt,y as et,o as k}from"./index-DKO9Ots2.js";import st from"./Loading-CkcDxEeQ.js";import{u as lt,a as nt,P as ot}from"./useLoading-B-6zSuPr.js";function at(){const{showLoading:U,hideLoading:_}=lt(),L=Q(),i=P([]),f=P(""),c=P(null),u=P(null),o=P(1),r=P(100),N="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRM5lsZMJ-EGwUcT-XurRjV54V2Tnf2n7MYK0kgp7L6nROAl8clWcsZPAq8cidyIijawHVjIHa93pRg/pub?gid=1303784359&single=true&output=csv");async function V(){U();try{const n=await nt.get(N,{responseType:"text"});ot.parse(n.data,{header:!0,complete:a=>{i.value=a.data.filter(v=>v.Name).map((v,y)=>({id:y+1,column1:v.Name||"",column2:v.Note||"",column3:v.Status||""})),_()}})}catch{i.value=[],_()}}function T(n,a){c.value=n,u.value=a}function g(){c.value=null,u.value=null}function x(n,a){return c.value===n&&u.value===a}const b=m(()=>f.value!==""||c.value!==null&&u.value!==null);function F(){f.value="",g()}const w=m(()=>i.value.filter(n=>{const a=(f.value||"").toLowerCase(),v=n.column1.toLowerCase().includes(a)||n.column2.toLowerCase().includes(a)||n.column3.toLowerCase().includes(a),y=Number(n.id),R=c.value===null&&u.value===null||y>=c.value&&y<=u.value;return v&&R}).sort((n,a)=>n.id-a.id));E([w,r],()=>{o.value=1});const h=m(()=>w.value.length),d=m(()=>Math.max(1,Math.ceil(w.value.length/r.value||1)));E([h,r],()=>{o.value>d.value&&(o.value=d.value)});const M=m(()=>{const n=(o.value-1)*r.value,a=n+r.value;return w.value.slice(n,a)}),A=m(()=>h.value===0?0:(o.value-1)*r.value+1),I=m(()=>Math.min(o.value*r.value,h.value)),W=m(()=>{const a=Math.max(1,o.value-2),v=Math.min(d.value,o.value+2),y=[];for(let R=a;R<=v;R++)y.push(R);return y});function e(n){n>=1&&n<=d.value&&(o.value=n)}function l(){o.value<d.value&&o.value++}function D(){o.value>1&&o.value--}function G(){o.value=1}function H(){o.value=d.value}function O(n){return n?n.includes("Reserve")?"hasStatus Service":n.includes("Abort")?"hasStatus No":n.includes("Available")?"hasStatus Complete":"":""}return X(V),{ui:L,sheetRows:i,searchQuery:f,filterMin:c,filterMax:u,currentPage:o,pageSize:r,hasActiveFilters:b,filteredCount:h,totalPages:d,paginatedData:M,displayFrom:A,displayTo:I,pageWindow:W,filterRange:T,clearFilter:g,isRangeActive:x,resetAllFilters:F,gotoPage:e,nextPage:l,prevPage:D,goFirst:G,goLast:H,statusDetect:O}}const it={class:"demo-website-view"},ut={class:"table-section"},rt={class:"table-views"},dt={style:{width:"10%"}},ct={class:"pagination-footer"},vt={class:"pagination-info"},pt={class:"pagination-controls"},ft=["disabled"],mt=["disabled"],gt=["onClick"],bt=["disabled"],ht=["disabled"],yt={class:"filter-sidebar"},Ct={class:"filter-section"},kt={class:"filter-group"},wt={class:"filter-group"},Pt={class:"filter-options"},St={class:"filter-group"},Lt={class:"filter-actions"},Rt={class:"results-summary"},_t={class:"result-count"},xt={__name:"DemoWebsiteViews",setup(U){const{ui:_,searchQuery:L,currentPage:i,pageSize:f,hasActiveFilters:c,filteredCount:u,totalPages:o,paginatedData:r,displayFrom:N,displayTo:V,pageWindow:T,filterRange:g,clearFilter:x,isRangeActive:b,resetAllFilters:F,gotoPage:w,nextPage:h,prevPage:d,goFirst:M,goLast:A,statusDetect:I}=at();return(W,e)=>(k(),S("div",it,[s(_).isLoading?(k(),J(st,{key:0})):$("",!0),t("main",ut,[t("div",rt,[t("table",null,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",{style:{width:"10%"}},"ID"),t("th",null,"Name"),t("th",null,"Note"),t("th",{style:{width:"15%"}},"Status")])],-1)),t("tbody",null,[(k(!0),S(j,null,B(s(r),(l,D)=>(k(),S("tr",{key:l.id??D},[t("td",dt,p(l.id),1),t("td",null,p(l.column1),1),t("td",null,p(l.column2),1),t("td",{class:C(s(I)(l.column3)),style:{width:"15%"}},p(l.column3),3)]))),128))])])]),t("div",ct,[t("div",vt,"Showing "+p(s(N))+"â€“"+p(s(V))+" of "+p(s(u)),1),t("div",pt,[t("button",{disabled:s(i)===1,onClick:e[0]||(e[0]=(...l)=>s(M)&&s(M)(...l)),title:"First Page"},"Â«",8,ft),t("button",{disabled:s(i)===1,onClick:e[1]||(e[1]=(...l)=>s(d)&&s(d)(...l)),title:"Previous"},"â€¹",8,mt),(k(!0),S(j,null,B(s(T),l=>(k(),S("button",{key:l,class:C({active:l===s(i)}),onClick:D=>s(w)(l)},p(l),11,gt))),128)),t("button",{disabled:s(i)===s(o),onClick:e[2]||(e[2]=(...l)=>s(h)&&s(h)(...l)),title:"Next"},"â€º",8,bt),t("button",{disabled:s(i)===s(o),onClick:e[3]||(e[3]=(...l)=>s(A)&&s(A)(...l)),title:"Last Page"},"Â»",8,ht)])])]),t("aside",yt,[t("div",Ct,[e[20]||(e[20]=t("div",{class:"filter-title"},"Filters",-1)),t("div",kt,[e[14]||(e[14]=t("label",{class:"filter-label"},"Search",-1)),t("form",{onSubmit:e[5]||(e[5]=K(()=>{},["prevent"]))},[q(t("input",{type:"search",class:"search-input",placeholder:"Search demo...","onUpdate:modelValue":e[4]||(e[4]=l=>z(L)?L.value=l:null),autocomplete:"off"},null,512),[[Y,s(L)]])],32)]),t("div",wt,[e[15]||(e[15]=t("label",{class:"filter-label"},"ID Range",-1)),t("div",Pt,[t("button",{class:C({active:s(b)(null,null)}),onClick:e[6]||(e[6]=(...l)=>s(x)&&s(x)(...l))},"All",2),t("button",{class:C({active:s(b)(1,199)}),onClick:e[7]||(e[7]=l=>s(g)(1,199))},"1â€“199",2),t("button",{class:C({active:s(b)(200,399)}),onClick:e[8]||(e[8]=l=>s(g)(200,399))},"200â€“399",2),t("button",{class:C({active:s(b)(400,599)}),onClick:e[9]||(e[9]=l=>s(g)(400,599))},"400â€“599",2),t("button",{class:C({active:s(b)(600,800)}),onClick:e[10]||(e[10]=l=>s(g)(600,800))},"600â€“800",2)])]),t("div",St,[e[17]||(e[17]=t("label",{class:"filter-label"},"Per Page",-1)),q(t("select",{class:"dropdown","onUpdate:modelValue":e[11]||(e[11]=l=>z(f)?f.value=l:null)},e[16]||(e[16]=[t("option",{value:10},"10 items",-1),t("option",{value:20},"20 items",-1),t("option",{value:50},"50 items",-1),t("option",{value:100},"100 items",-1)]),512),[[tt,s(f),void 0,{number:!0}]])]),t("div",Lt,[s(c)?(k(),S("button",{key:0,onClick:e[12]||(e[12]=(...l)=>s(F)&&s(F)(...l)),class:"btn-reset"},e[18]||(e[18]=[t("span",null,"ðŸ”„",-1),et(" Reset All")]))):$("",!0)]),t("div",Rt,[t("span",_t,p(s(u)),1),e[19]||(e[19]=t("span",{class:"result-label"},"demos found",-1))])])])]))}},Dt=Z(xt,[["__scopeId","data-v-19110d67"]]);export{Dt as default};
