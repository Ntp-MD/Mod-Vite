import{h as q,r as c,f as G,i,w as L,c as p,j as H,k as O,l as W,a as t,m as x,v as z,p as X,F as M,q as _,t as r,s as S,o as d,n as w}from"./index-BqLNUH2p.js";import{u as Z,a as J,P as K}from"./useLoading-Dao-xLCb.js";import Q from"./Loading-LhuL1v16.js";const Y={class:"body-content"},ee={class:"filter-sort flex"},te={id:"search_box"},le={class:"page-control"},ae={class:"page-control"},ne=["disabled"],oe=["disabled"],se=["onClick"],ue=["disabled"],ie=["disabled"],re={class:"table-views"},me={__name:"DemoWebsiteViews",setup(ce){const{showLoading:N,hideLoading:y}=Z(),P=q(),C=c([]),k=c(""),m=c(null),g=c(null),n=c(1),s=c(100),R="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRM5lsZMJ-EGwUcT-XurRjV54V2Tnf2n7MYK0kgp7L6nROAl8clWcsZPAq8cidyIijawHVjIHa93pRg/pub?gid=1303784359&single=true&output=csv");G(async()=>{N();try{const a=await J.get(R,{responseType:"text"});K.parse(a.data,{header:!0,complete:e=>{C.value=e.data.filter(l=>l.Name).map((l,o)=>({id:o+1,column1:l.Name||"",column2:l.Note||"",column3:l.Status||""})),y()}})}catch{C.value=[],y()}});function f(a,e){m.value=a,g.value=e}function V(){m.value=null,g.value=null}const b=i(()=>C.value.filter(a=>{const e=(k.value||"").toLowerCase(),l=a.column1.toLowerCase().includes(e)||a.column2.toLowerCase().includes(e)||a.column3.toLowerCase().includes(e),o=Number(a.id),v=m.value===null&&g.value===null||o>=m.value&&o<=g.value;return l&&v}).sort((a,e)=>a.id-e.id));L([b,s],()=>{n.value=1});const h=i(()=>b.value.length),u=i(()=>Math.max(1,Math.ceil(b.value.length/s.value||1)));L([h,s],()=>{n.value>u.value&&(n.value=u.value)});const T=i(()=>{const a=(n.value-1)*s.value,e=a+s.value;return b.value.slice(a,e)}),A=i(()=>h.value===0?0:(n.value-1)*s.value+1),D=i(()=>Math.min(n.value*s.value,h.value)),F=i(()=>{const e=Math.max(1,n.value-2),l=Math.min(u.value,n.value+2),o=[];for(let v=e;v<=l;v++)o.push(v);return o});function U(a){a>=1&&a<=u.value&&(n.value=a)}function B(){n.value<u.value&&n.value++}function E(){n.value>1&&n.value--}function $(){n.value=1}function j(){n.value=u.value}function I(a){return a?a.includes("Reserve")?"Service":a.includes("Abort")?"No":a.includes("Available")?"Complete":"":""}return(a,e)=>(d(),p("div",Y,[H(P).isLoading?(d(),O(Q,{key:0})):W("",!0),t("div",ee,[t("form",te,[x(t("input",{class:"search-input",type:"search",placeholder:"Search demo","onUpdate:modelValue":e[0]||(e[0]=l=>k.value=l)},null,512),[[z,k.value]])]),t("button",{class:"filter-range",onClick:e[1]||(e[1]=l=>f(1,199))},"1–199"),t("button",{class:"filter-range",onClick:e[2]||(e[2]=l=>f(200,399))},"200–399"),t("button",{class:"filter-range",onClick:e[3]||(e[3]=l=>f(400,599))},"400–599"),t("button",{class:"filter-range",onClick:e[4]||(e[4]=l=>f(600,800))},"600–800"),t("button",{class:"filter-range",onClick:V},"All"),t("div",le,[e[8]||(e[8]=t("label",{for:"page-range"},"Per page",-1)),x(t("select",{class:"dropdown",id:"page-range","onUpdate:modelValue":e[5]||(e[5]=l=>s.value=l)},e[7]||(e[7]=[t("option",{value:10},"10",-1),t("option",{value:20},"20",-1),t("option",{value:50},"50",-1),t("option",{value:100},"100",-1)]),512),[[X,s.value,void 0,{number:!0}]])]),t("div",ae,[t("button",{disabled:n.value===1,onClick:$},"« First",8,ne),t("button",{disabled:n.value===1,onClick:E},"‹ Prev",8,oe),(d(!0),p(M,null,_(F.value,l=>(d(),p("button",{key:l,class:w(["pager-num",{active:l===n.value}]),onClick:o=>U(l)},r(l),11,se))),128)),t("button",{disabled:n.value===u.value,onClick:B},"Next ›",8,ue),t("button",{disabled:n.value===u.value,onClick:j},"Last »",8,ie),t("span",null," Showing "+r(A.value)+"–"+r(D.value)+" of "+r(h.value),1)])]),t("div",re,[t("table",null,[e[6]||(S(-1,!0),(e[6]=t("thead",null,[e[9]||(e[9]=t("tr",null,[t("th",null,"Name"),t("th",null,"Note"),t("th",null,"Status")],-1))])).cacheIndex=6,S(1),e[6]),t("tbody",null,[(d(!0),p(M,null,_(T.value,(l,o)=>(d(),p("tr",{key:l.id??o},[t("td",null,r(l.column1),1),t("td",null,r(l.column2),1),t("td",{class:w(I(l.column3))},r(l.column3),3)]))),128))])])])]))}};export{me as default};
