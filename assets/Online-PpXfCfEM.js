import S from"./Loading-DofD5bS1.js";import{r as u,b,d as L,c,e,w as k,v as A,n as d,F as g,f as _,g as D,o as r,t as i}from"./index-cMvhRL7m.js";import{P as N}from"./papaparse.min-B654aPYJ.js";import{a as O}from"./axios-B2YOV0tR.js";const W={key:0},B={class:"Tablefilter"},E={id:"search-form"},I=["onClick"],M={class:"TableViews"},R=["href"],V={__name:"Online",setup(T){const m=u(!0),p=u([]),l=u("All"),h=u(""),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],C="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");b(async()=>{m.value=!0;try{const s=await O.get(C,{responseType:"text"});N.parse(s.data,{header:!0,complete:n=>{p.value=n.data.filter(t=>t.Name).map((t,a)=>({id:a+1,name:t.Name||"",searchConsole:t["Search Console"]||"",smartWidget:t["Smart Widget"]||"",onlineDate:t["Online Date"]||"",month:String(t.Month||"").trim()}))}})}catch{p.value=[]}finally{m.value=!1}});const y=L(()=>{let s=p.value;l.value!=="All"&&(s=s.filter(t=>t.month===l.value));const n=h.value.toLowerCase();return n&&(s=s.filter(t=>t.name.toLowerCase().includes(n)||t.searchConsole.toLowerCase().includes(n)||t.smartWidget.toLowerCase().includes(n)||t.onlineDate.toLowerCase().includes(n))),s});function f(s){return s?s.includes("Google Ads")?"Ads":s.includes("ติดตั้งเรียบร้อย")?"Installed":s.includes("รอดำเนินการ")?"Wait":s.includes("ไม่มีบริการ")?"None":"":""}return(s,n)=>{const t=S;return m.value?(r(),D(t,{key:1})):(r(),c("div",W,[e("div",B,[e("form",E,[k(e("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":n[0]||(n[0]=a=>h.value=a)},null,512),[[A,h.value]])]),e("button",{class:d({active:l.value==="All"}),onClick:n[1]||(n[1]=a=>l.value="All")},"All",2),(r(),c(g,null,_(v,(a,o)=>e("button",{key:o,class:d({active:l.value===String(o+1)}),onClick:x=>l.value=String(o+1)},i(a),11,I)),64))]),e("table",M,[n[2]||(n[2]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Search Console"),e("th",null,"Smart Widget"),e("th",null,"Online Date")])],-1)),e("tbody",null,[(r(!0),c(g,null,_(y.value,(a,o)=>(r(),c("tr",{key:o},[e("td",null,[e("a",{href:"http://"+a.name,target:"_blank"},i(a.name),9,R)]),e("td",{class:d(["Status",f(a.searchConsole)])},i(a.searchConsole),3),e("td",{class:d(["Status",f(a.smartWidget)])},i(a.smartWidget),3),e("td",null,i(a.onlineDate),1)]))),128))])])]))}}};export{V as default};
