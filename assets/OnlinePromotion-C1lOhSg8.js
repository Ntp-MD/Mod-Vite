import f from"./Loading-CRO77u4J.js";import{r as i,b as k,d as W,c as d,e as l,w as I,v as y,n as c,F as C,f as g,g as L,o as r,t as u}from"./index-mIkUfGtV.js";import{P as b}from"./papaparse.min-B654aPYJ.js";import{a as B}from"./axios-B2YOV0tR.js";const G={key:0},A={class:"Tablefilter"},O={id:"search-form"},N=["onClick"],U={class:"TableViews"},D={__name:"OnlinePromotion",setup(E){const m=i(!0),h=i([]),n=i("All"),p=i(""),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],S="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");k(async()=>{m.value=!0;try{const s=await B.get(S,{responseType:"text"});b.parse(s.data,{header:!0,complete:a=>{h.value=a.data.filter(e=>e.Name).map((e,t)=>({id:t+1,column1:e.Name||"",column2:e["WIC-5GB"]||"",column3:e["WIC-GoogleSearchConsole"]||"",column4:e["WIC-SmartWidget"]||"",CheckSearchConsole:e["Online-GoogleSearchConsole"]||"",CheckSmartWidget:e["Online-SmartWidget"]||"",Check5GB:e["WIC-Up5GB"]||"",month:String(e.Month||"").trim()}))}})}catch{h.value=[]}finally{m.value=!1}});const _=W(()=>{let s=h.value;n.value!=="All"&&(s=s.filter(e=>e.month===n.value));const a=p.value.toLowerCase();return a&&(s=s.filter(e=>e.column1.toLowerCase().includes(a)||e.column2.toLowerCase().includes(a)||e.column3.toLowerCase().includes(a)||e.column4.toLowerCase().includes(a))),s});return(s,a)=>{const e=f;return m.value?(r(),L(e,{key:1})):(r(),d("div",G,[l("div",A,[l("form",O,[I(l("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":a[0]||(a[0]=t=>p.value=t)},null,512),[[y,p.value]])]),l("button",{class:c({active:n.value==="All"}),onClick:a[1]||(a[1]=t=>n.value="All")},"All",2),(r(),d(C,null,g(v,(t,o)=>l("button",{key:o,class:c({active:n.value===String(o+1)}),onClick:M=>n.value=String(o+1)},u(t),11,N)),64))]),l("table",U,[a[2]||(a[2]=l("thead",null,[l("tr",null,[l("th",null,"Name"),l("th",null,"Upgrade 5GB"),l("th",null,"WIC Search Console"),l("th",null,"WIC Smart Widget")])],-1)),l("tbody",null,[(r(!0),d(C,null,g(_.value,(t,o)=>(r(),d("tr",{key:o},[l("td",null,u(t.column1),1),l("td",{class:c({Installed:t.Check5GB==="Up Space"})},u(t.column2),3),l("td",{class:c({Installed:t.CheckSearchConsole})},u(t.CheckSearchConsole?"Search Console Installed":"Wait"),3),l("td",{class:c({Installed:t.CheckSmartWidget==="Installed"||t.CheckSmartWidget==="Google Ads"||t.CheckSmartWidget==="ไม่มีบริการ"||t.column4==="Smart Widget"})},u(t.CheckSmartWidget?"Smart Widget Installed":t.column4),3)]))),128))])])]))}}};export{D as default};
