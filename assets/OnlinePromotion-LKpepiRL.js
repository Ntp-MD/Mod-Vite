import G from"./Loading-DbruAUfy.js";import{r as d,b as _,d as k,c as u,e as l,w as y,v as I,n as i,F as C,f,g as A,o as c,t as r}from"./index-BUO4i4ml.js";import{P as L}from"./papaparse.min-B654aPYJ.js";import{a as N}from"./axios-B2YOV0tR.js";const b={key:0},M={class:"Tablefilter"},F={id:"search-form"},O=["onClick"],E={class:"TableViews"},J={__name:"OnlinePromotion",setup(R){const m=d(!0),S=d([]),s=d("All"),h=d(""),W=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],v="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");_(async()=>{m.value=!0;try{const a=await N.get(v,{responseType:"text"});L.parse(a.data,{header:!0,complete:n=>{S.value=n.data.filter(t=>t.Name).map((t,e)=>({id:e+1,selectName:t.Name||"",selectfree5GB:t.Free5GB||"",selectfreeSearchConsole:t.FreeSearchConsole||"",selectfreeSmartWidget:t.FreeSmartWidget||"",onlineSearchConsole:t.OnlineSearchConsole||"",onlineSmartWidget:t.OnlineSmartWidget||"",Check5GB:t.Check5GB||"",onlineMonth:String(t.Month||"").trim()}))}})}catch{S.value=[]}finally{m.value=!1}});const B=k(()=>{let a=S.value;s.value!=="All"&&(a=a.filter(t=>t.onlineMonth===s.value));const n=h.value.toLowerCase();return n&&(a=a.filter(t=>t.selectName.toLowerCase().includes(n)||t.selectfree5GB.toLowerCase().includes(n)||t.selectfreeSearchConsole.toLowerCase().includes(n)||t.selectfreeSmartWidget.toLowerCase().includes(n))),a});return(a,n)=>{const t=G;return m.value?(c(),A(t,{key:1})):(c(),u("div",b,[l("div",M,[l("form",F,[y(l("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":n[0]||(n[0]=e=>h.value=e)},null,512),[[I,h.value]])]),l("button",{class:i({active:s.value==="All"}),onClick:n[1]||(n[1]=e=>s.value="All")},"All",2),(c(),u(C,null,f(W,(e,o)=>l("button",{key:o,class:i({active:s.value===String(o+1)}),onClick:g=>s.value=String(o+1)},r(e),11,O)),64))]),l("table",E,[n[2]||(n[2]=l("thead",null,[l("tr",null,[l("th",null,"Name"),l("th",null,"Upgrade 5GB"),l("th",null,"WIC Search Console"),l("th",null,"WIC Smart Widget")])],-1)),l("tbody",null,[(c(!0),u(C,null,f(B.value,(e,o)=>{var g,p;return c(),u("tr",{key:o},[l("td",null,r(e.selectName),1),l("td",{class:i({Installed:e.selectfree5GB==="เพิ่มพื้นที่ (5 GB)"&&e.Check5GB==="Up Space",Wait:e.selectfree5GB==="เพิ่มพื้นที่ (5 GB)"&&e.Check5GB==="",NoService:e.selectfree5GB===""&&e.Check5GB===""})},r(!((g=e.selectfree5GB)!=null&&g.trim())&&!((p=e.Check5GB)!=null&&p.trim())?"ไม่มีบริการ":e.selectfree5GB),3),l("td",{class:i({Installed:e.onlineSearchConsole==="Installed",Wait:e.onlineSearchConsole==="Wait"||e.onlineSearchConsole===""||e.onlineSearchConsole==null})},r(e.onlineSearchConsole==="Wait"||e.onlineSearchConsole===""||e.onlineSearchConsole==null?"Search Console":e.onlineSearchConsole==="Installed"?"Search Console Installed":e.selectfreeSearchConsole),3),l("td",{class:i({Installed:e.onlineSmartWidget==="Installed"||e.selectfreeSmartWidget==="Smart Widget",Ads:e.onlineSmartWidget==="Google Ads",NoService:e.onlineSmartWidget==="ไม่มีบริการ",Wait:e.onlineSmartWidget==="Wait"})},r(e.onlineSmartWidget==="ไม่มีบริการ"?"ไม่มีบริการ":e.onlineSmartWidget==="Google Ads"?"Google Ads":e.onlineSmartWidget==="Wait"&&(e.selectfreeSmartWidget==="Smart Widget"||e.selectfreeSmartWidget==="")?"Smart Widget":e.onlineSmartWidget==="Installed"?"Smart Widget Installed":e.selectfreeSmartWidget),3)])}),128))])])]))}}};export{J as default};
