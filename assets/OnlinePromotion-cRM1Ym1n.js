import W from"./Loading-CvgN6R5x.js";import{r as i,b as f,d as _,c as d,e,w as I,v as y,n as c,F as C,f as g,g as B,o as u,t as r}from"./index-BuAkDrOV.js";import{P as G}from"./papaparse.min-B654aPYJ.js";import{a as L}from"./axios-B2YOV0tR.js";const b={key:0},A={class:"Tablefilter"},N={id:"search-form"},O=["onClick"],U={class:"TableViews"},D={__name:"OnlinePromotion",setup(E){const m=i(!0),h=i([]),s=i("All"),p=i(""),v=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],S="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");f(async()=>{m.value=!0;try{const n=await L.get(S,{responseType:"text"});G.parse(n.data,{header:!0,complete:a=>{h.value=a.data.filter(t=>t.Name).map((t,l)=>({id:l+1,column1:t.Name||"",column2:t["WIC-5GB"]||"",column3:t["WIC-GoogleSearchConsole"]||"",column4:t["WIC-SmartWidget"]||"",CheckSearchConsole:t["Online-GoogleSearchConsole"]||"",CheckSmartWidget:t["Online-SmartWidget"]||"",Check5GB:t["WIC-Up5GB"]||"",month:String(t.Month||"").trim()}))}})}catch{h.value=[]}finally{m.value=!1}});const k=_(()=>{let n=h.value;s.value!=="All"&&(n=n.filter(t=>t.month===s.value));const a=p.value.toLowerCase();return a&&(n=n.filter(t=>t.column1.toLowerCase().includes(a)||t.column2.toLowerCase().includes(a)||t.column3.toLowerCase().includes(a)||t.column4.toLowerCase().includes(a))),n});return(n,a)=>{const t=W;return m.value?(u(),B(t,{key:1})):(u(),d("div",b,[e("div",A,[e("form",N,[I(e("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":a[0]||(a[0]=l=>p.value=l)},null,512),[[y,p.value]])]),e("button",{class:c({active:s.value==="All"}),onClick:a[1]||(a[1]=l=>s.value="All")},"All",2),(u(),d(C,null,g(v,(l,o)=>e("button",{key:o,class:c({active:s.value===String(o+1)}),onClick:M=>s.value=String(o+1)},r(l),11,O)),64))]),e("table",U,[a[2]||(a[2]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Upgrade 5GB"),e("th",null,"WIC Search Console"),e("th",null,"WIC Smart Widget")])],-1)),e("tbody",null,[(u(!0),d(C,null,g(k.value,(l,o)=>(u(),d("tr",{key:o},[e("td",null,r(l.column1),1),e("td",{class:c({Installed:l.Check5GB==="Up Space"})},r(l.column2),3),e("td",{class:c({Installed:l.CheckSearchConsole})},r(l.CheckSearchConsole?"Installed":"Wait"),3),e("td",{class:c({Installed:l.CheckSmartWidget==="Installed"||l.CheckSmartWidget==="Google Ads"||l.CheckSmartWidget==="ไม่มีบริการ"||l.column4==="Smart Widget"})},r(l.CheckSmartWidget?l.CheckSmartWidget:l.column4),3)]))),128))]),a[3]||(a[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Upgrade 5GB"),e("th",null,"WIC Search Console"),e("th",null,"WIC Smart Widget")])],-1))])]))}}};export{D as default};
