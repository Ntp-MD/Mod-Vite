import{a as x}from"./axios-B2YOV0tR.js";import{r as f,d as S,e as $,c as n,f as g,F as b,o as c,b as l,t as i,h,n as F,i as w}from"./index-aC86jaE0.js";const T=["onClick"],B={key:0,class:"groupFile"},E=["onClick"],I={key:0,class:"groupFile"},J={class:"folderWebsite folderFile"},V={class:"subFolder"},Y={class:"folderFile"},P={class:"folderFile"},W={class:"folderFile"},R={__name:"OnlineTrackDisplay",setup(z){const y=f([]),d=f({}),C=f(!0),D=["January","February","March","April","May","June","July","August","September","October","November","December"],p=f({}),r=f({});S(async()=>{C.value=!0;try{const e=await x.get("http://localhost:3001/OnlineTrackGetData");y.value=Array.isArray(e.data)?e.data:[],d.value=e.data||{}}catch(e){console.error("Failed to fetch online track data:",e),y.value=[],d.value={}}finally{C.value=!1}});const O=$(()=>{const e={};return!d.value||typeof d.value!="object"||Object.keys(d.value).sort((s,o)=>parseInt(s)-parseInt(o)).forEach(s=>{const o=d.value[s];if(o&&typeof o=="object"){const t={};D.forEach(u=>{Object.prototype.hasOwnProperty.call(o,u)&&Array.isArray(o[u])&&(t[u]=o[u])}),Object.keys(t).length>0&&(e[s]=t)}}),e}),M=e=>{p.value[e]=!p.value[e]},A=(e,s)=>{r.value[e]||(r.value[e]={}),r.value[e][s]=!r.value[e][s]},k=e=>e==="0"?"none":e==="1"?"wait":e==="2"?"complete":"",_=e=>e==="0"?"Not Service":e==="1"?"Installed":e==="2"?"Complete":"Unknown";return(e,s)=>(c(!0),n(b,null,g(O.value,(o,t)=>(c(),n("div",{class:"otd-year",key:t},[l("div",{class:"folderYear folderFile",onClick:u=>M(t)},i(t)+" "+i((p.value[t],"[-]")),9,T),p.value[t]?w("",!0):(c(),n("div",B,[(c(!0),n(b,null,g(o,(u,v)=>(c(),n("ul",{class:"otd-month",key:v},[l("div",{class:"folderMonth folderFile",onClick:a=>A(t,v)},i(v)+" "+i((r.value[t]&&r.value[t][v],"[-]")),9,E),r.value[t]&&r.value[t][v]?w("",!0):(c(),n("ul",I,[(c(!0),n(b,null,g(u,(a,j)=>(c(),n("div",{class:"groupFile",key:a.website||`${t}-${v}-${j}`},[l("div",J,i(a.website),1),l("ul",V,[l("div",Y,[s[0]||(s[0]=h(" Search Console: ")),l("div",{class:F(k(a.searchconsole))},i(_(a.searchconsole)),3)]),l("div",P,[s[1]||(s[1]=h(" Smart Widget: ")),l("div",{class:F(k(a.widget))},i(_(a.widget)),3)]),l("div",W,[s[2]||(s[2]=h(" Package: ")),l("div",{class:F(k(a.blank))},i(_(a.blank)),3)])])]))),128))]))]))),128))]))]))),128))}};export{R as default};
