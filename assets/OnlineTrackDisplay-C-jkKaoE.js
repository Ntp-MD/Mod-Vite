import{a as D}from"./axios-B2YOV0tR.js";import{r as g,b as O,d as C,c as l,e as t,F as i,f as b,i as M,o,t as c,n as y}from"./index-BPwP6-8Z.js";const S={key:0},x={class:"TableViews"},A={class:"year-heading"},F={colspan:"5"},T={class:"month-heading"},B={colspan:"5"},N={__name:"OnlineTrackDisplay",setup(E){const d=g({}),h=g(!0),k=["January","February","March","April","May","June","July","August","September","October","November","December"];O(async()=>{h.value=!0;try{const e=await D.get("http://localhost:3001/OnlineTrackGetData");d.value=e.data||{}}catch(e){console.error("Failed to fetch data:",e),d.value={}}finally{h.value=!1}});const w=C(()=>{const e={};return Object.keys(d.value||{}).sort((n,r)=>parseInt(n)-parseInt(r)).forEach(n=>{const r=d.value[n],a={};k.forEach(u=>{Array.isArray(r==null?void 0:r[u])&&(a[u]=r[u])}),Object.keys(a).length&&(e[n]=a)}),e}),p=e=>e==="0"?"none":e==="1"?"wait":e==="2"?"complete":"",f=e=>e==="0"?"Not Service":e==="1"?"Installed":e==="2"?"Complete":"Unknown",m=e=>e.slice(0,3);return(e,n)=>h.value?M("",!0):(o(),l("div",S,[t("table",x,[n[0]||(n[0]=t("thead",null,[t("tr",null,[t("th",null,"Website"),t("th",null,"Search Console"),t("th",null,"Smart Widget"),t("th",null,"Package"),t("th",null,"Date")])],-1)),t("tbody",null,[(o(!0),l(i,null,b(w.value,(r,a)=>(o(),l(i,{key:a},[t("tr",A,[t("td",F,c(a),1)]),(o(!0),l(i,null,b(r,(u,_)=>(o(),l(i,{key:_},[t("tr",T,[t("td",B,c(m(_)),1)]),(o(!0),l(i,null,b(u,(s,v)=>(o(),l("tr",{key:s.website||`${a}-${_}-${v}`},[t("td",null,c(s.website),1),t("td",{class:y(p(s.searchconsole))},c(f(s.searchconsole)),3),t("td",{class:y(p(s.widget))},c(f(s.widget)),3),t("td",{class:y(p(s.blank))},c(f(s.blank)),3),t("td",null,c(s.onlineDate),1)]))),128))],64))),128))],64))),128))])])]))}};export{N as default};
