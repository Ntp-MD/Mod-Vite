import{a as j}from"./axios-B2YOV0tR.js";import{r as y,e as _,d as w,c as a,b as e,F as h,f as g,o,t as u,j as F}from"./index-C_UZXv-4.js";const M={class:"TableViews"},T={key:0},$={class:"month-header-row"},I={colspan:4},B={__name:"OnlineTrackDisplay",setup(N){const r=y({}),k=y(null),m=y(null);_(()=>r.value?Object.keys(r.value).sort((t,c)=>parseInt(c)-parseInt(t)):[]);const b=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return _(()=>b),_(()=>{const t=r.value;if(!t||Object.keys(t).length===0)return Object.keys(r.value).length===0&&!k.value&&m.value,{};const c={},f=k.value,n=m.value,i=f?[f]:Object.keys(t).sort((s,l)=>parseInt(s)-parseInt(l));for(const s of i){if(!t[s])continue;const l=t[s],p=n?[n]:b;let v=!1;const D={};for(const d of p)if(n===d||n===null&&l[d]){const O=l[d]||[];D[d]=O,(n===d||n===null&&O.length>0)&&(v=!0)}v&&(c[s]=D)}return c}),w(async()=>{try{const t=await j.get("http://localhost:3001/OnlineTrackGetData");r.value=t.data||{}}catch(t){console.error("Failed to fetch online track data:",t),r.value={}}}),(t,c)=>(o(),a("table",M,[c[0]||(c[0]=e("thead",null,[e("tr",null,[e("th",null,"Website"),e("th",null,"Search Console"),e("th",null,"Widget"),e("th",null,"Online Date")])],-1)),(o(!0),a(h,null,g(r.value,(f,n)=>(o(),a(h,{key:n},[(o(!0),a(h,null,g(f,(i,s)=>(o(),a(h,{key:`${n}-${s}`},[i&&i.length>0?(o(),a("tbody",T,[e("tr",$,[e("td",I,[e("strong",null,u(s)+" "+u(n),1)])]),(o(!0),a(h,null,g(i,(l,p)=>(o(),a("tr",{key:`${n}-${s}-${p}`},[e("td",null,u(l.website),1),e("td",null,u(l.searchconsole),1),e("td",null,u(l.widget),1),e("td",null,u(l.onlineDate),1)]))),128))])):F("",!0)],64))),128))],64))),128))]))}};export{B as default};
