import b from"./Loading-BoS6KbMQ.js";import{r as c,b as S,d as L,c as i,e,w as k,v as A,n as d,F as _,f as v,g as O,o as u,t as r}from"./index-BPZ_MweK.js";import{P as D}from"./papaparse.min-B654aPYJ.js";import{a as N}from"./axios-B2YOV0tR.js";const B={key:0},E={class:"Tablefilter"},M={id:"search-form"},R=["onClick"],T={class:"TableViews"},x=["href"],W={__name:"OnlineWebsite",setup(F){const m=c(!0),p=c([]),o=c("All"),h=c(""),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");S(async()=>{m.value=!0;try{const n=await N.get(y,{responseType:"text"});D.parse(n.data,{header:!0,complete:s=>{p.value=s.data.filter(t=>t.Name).map((t,l)=>({id:l+1,column1:t.Name||"",column2:t["Search Console"]||"",column3:t["Smart Widget"]||"",column7:t["Online Date"]||"",month:String(t.Month||"").trim()}))}})}catch{p.value=[]}finally{m.value=!1}});const C=L(()=>{let n=p.value;o.value!=="All"&&(n=n.filter(t=>t.month===o.value));const s=h.value.toLowerCase();return s&&(n=n.filter(t=>t.column1.toLowerCase().includes(s)||t.column2.toLowerCase().includes(s)||t.column3.toLowerCase().includes(s)||t.column7.toLowerCase().includes(s))),n});function f(n){return n?n.includes("Google Ads")?"status1":n.includes("ติดตั้งเรียบร้อย")?"status2":n.includes("รอดำเนินการ")?"status3":n.includes("ไม่มีบริการ")?"status4":"":""}return(n,s)=>{const t=b;return m.value?(u(),O(t,{key:1})):(u(),i("div",B,[e("div",E,[e("form",M,[k(e("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":s[0]||(s[0]=l=>h.value=l)},null,512),[[A,h.value]])]),e("button",{class:d({active:o.value==="All"}),onClick:s[1]||(s[1]=l=>o.value="All")},"All",2),(u(),i(_,null,v(g,(l,a)=>e("button",{key:a,class:d({active:o.value===String(a+1)}),onClick:I=>o.value=String(a+1)},r(l),11,R)),64))]),e("table",T,[s[2]||(s[2]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Search Console"),e("th",null,"Smart Widget"),e("th",null,"Online Date")])],-1)),e("tbody",null,[(u(!0),i(_,null,v(C.value,(l,a)=>(u(),i("tr",{key:a},[e("td",null,[e("a",{href:"http://"+l.name,target:"_blank"},r(l.column1),9,x)]),e("td",{class:d(f(l.column2))},r(l.column2),3),e("td",{class:d(f(l.column3))},r(l.column3),3),e("td",null,r(l.column7),1)]))),128))])])]))}}};export{W as default};
