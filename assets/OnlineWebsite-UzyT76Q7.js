import b from"./Loading-DbruAUfy.js";import{r as c,b as S,d as L,c as i,e,w as k,v as O,n as d,F as _,f as v,g as A,o as u,t as r}from"./index-BUO4i4ml.js";import{P as D}from"./papaparse.min-B654aPYJ.js";import{a as N}from"./axios-B2YOV0tR.js";const B={key:0},E={class:"Tablefilter"},M={id:"search-form"},R=["onClick"],T={class:"TableViews"},x=["href"],W={__name:"OnlineWebsite",setup(F){const m=c(!0),p=c([]),o=c("All"),h=c(""),g=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],y="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv");S(async()=>{m.value=!0;try{const n=await N.get(y,{responseType:"text"});D.parse(n.data,{header:!0,complete:l=>{p.value=l.data.filter(t=>t.Name).map((t,s)=>({id:s+1,column1:t.Name||"",column2:t.OnlineSearchConsole||"",column3:t.OnlineSmartWidget||"",column7:t["Online Date"]||"",month:String(t.Month||"").trim()}))}})}catch{p.value=[]}finally{m.value=!1}});const C=L(()=>{let n=p.value;o.value!=="All"&&(n=n.filter(t=>t.month===o.value));const l=h.value.toLowerCase();return l&&(n=n.filter(t=>t.column1.toLowerCase().includes(l)||t.column2.toLowerCase().includes(l)||t.column3.toLowerCase().includes(l)||t.column7.toLowerCase().includes(l))),n});function f(n){return n?n.includes("Google Ads")?"status1":n.includes("ติดตั้งเรียบร้อย")?"status2":n.includes("รอดำเนินการ")?"status3":n.includes("ไม่มีบริการ")?"status4":"":""}return(n,l)=>{const t=b;return m.value?(u(),A(t,{key:1})):(u(),i("div",B,[e("div",E,[e("form",M,[k(e("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":l[0]||(l[0]=s=>h.value=s)},null,512),[[O,h.value]])]),e("button",{class:d({active:o.value==="All"}),onClick:l[1]||(l[1]=s=>o.value="All")},"All",2),(u(),i(_,null,v(g,(s,a)=>e("button",{key:a,class:d({active:o.value===String(a+1)}),onClick:I=>o.value=String(a+1)},r(s),11,R)),64))]),e("table",T,[l[2]||(l[2]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"SearchConsole"),e("th",null,"SmartWidget"),e("th",null,"Online Date")])],-1)),e("tbody",null,[(u(!0),i(_,null,v(C.value,(s,a)=>(u(),i("tr",{key:a},[e("td",null,[e("a",{href:"http://"+s.name,target:"_blank"},r(s.column1),9,x)]),e("td",{class:d(f(s.column2))},r(s.column2),3),e("td",{class:d(f(s.column3))},r(s.column3),3),e("td",null,r(s.column7),1)]))),128))])])]))}}};export{W as default};
