import{a as R,P as V,_ as U}from"./axios-DqYMwS4A.js";import{_ as z,r as o,w as k,o as B,j as D,c as J,a as h,b as s,k as q,d as P,v as Q,n as i,F as G,f as y,s as I,h as Y,i as c,t as u,l as j}from"./index-HDL4aHtE.js";const H={key:0,class:"container"},X={class:"filter-sort flex"},$=["onClick"],Z={class:"table-views"},K={__name:"OnlineWebsiteView",setup(w){const N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv"),g=o(!0),d=o([]),r=o(0),S=o(""),p=o(""),_=o(null);let C=null;k(S,e=>{clearTimeout(C),C=setTimeout(()=>p.value=(e||"").toLowerCase().trim(),200)});const b=new AbortController;B(async()=>{g.value=!0;try{const e=await R.get(L,{responseType:"text",signal:b.signal});V.parse(e.data,{header:!0,skipEmptyLines:!0,complete:({data:t})=>{let l=1;d.value=t.filter(n=>n==null?void 0:n.Name).map(n=>O(n,l++))}})}catch{d.value=[]}finally{g.value=!1}}),D(()=>b.abort());const a=e=>String(e??"").trim(),m=e=>a(e).toLowerCase();function O(e,t){const l=Number(a(e.Month))||0,n=a(e.Name);return{id:t,selectName:n,selectfree5GB:a(e.Free5GB),selectfreeSearchConsole:a(e.FreeSearchConsole),selectfreeSmartWidget:a(e.FreeSmartWidget),onlineSearchConsole:a(e.OnlineSearchConsole),onlineSmartWidget:a(e.OnlineSmartWidget),Check5GB:a(e.Check5GB),onlineMonth:l,_name_lc:m(e.Name),_5gb_lc:m(e.Free5GB),_sc_lc:m(e.FreeSearchConsole),_sw_lc:m(e.FreeSmartWidget)}}const v=J(()=>{const e=r.value,t=p.value;return e===0&&!t?d.value:d.value.filter(l=>e===0||l.onlineMonth===e?t?l._name_lc.includes(t)||l._5gb_lc.includes(t)||l._sc_lc.includes(t)||l._sw_lc.includes(t):!0:!1)});function W(){_.value&&v.value.length>15&&_.value.scrollIntoView({behavior:"smooth",block:"end"})}k(v,()=>j(W)),B(W);function x(e){const t=e.selectfree5GB==="เพิ่มพื้นที่ (5 GB)";return!t&&!e.Check5GB?"NoService":t&&e.Check5GB==="Completed"?"Installed":t&&!e.Check5GB?"Wait":""}function A(e){return!e.selectfree5GB&&!e.Check5GB?"ไม่มีบริการ":e.selectfree5GB||"เพิ่มพื้นที่ (5 GB)"}function F(e){return e.onlineSearchConsole==="Installed"?"Installed":!e.onlineSearchConsole||e.onlineSearchConsole==="Wait"?"Wait":""}function M(e){const t=e.onlineSearchConsole;return!t||t==="Wait"?"Search Console":t==="Installed"?"Search Console Installed":e.selectfreeSearchConsole||"Search Console"}function T(e){const t=e.onlineSmartWidget;return t==="Installed"||e.selectfreeSmartWidget==="Smart Widget"?"Installed":t==="Google Ads"?"Ads":t==="ไม่มีบริการ"?"NoService":t==="Wait"?"Wait":""}function E(e){const t=e.onlineSmartWidget;return t==="ไม่มีบริการ"?"ไม่มีบริการ":t==="Google Ads"?"Google Ads":t==="Installed"?"Smart Widget Installed":t==="Wait"&&(e.selectfreeSmartWidget==="Smart Widget"||!e.selectfreeSmartWidget)?"Smart Widget":e.selectfreeSmartWidget||"Smart Widget"}return(e,t)=>{const l=U;return g.value?(c(),Y(l,{key:1})):(c(),h("div",H,[t[5]||(t[5]=s("div",{class:"title"},"Online Website",-1)),s("div",X,[s("form",{id:"search_box",onSubmit:t[1]||(t[1]=q(()=>{},["prevent"]))},[P(s("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=n=>S.value=n),autocomplete:"off"},null,512),[[Q,S.value]])],32),s("button",{class:i({active:r.value===0}),onClick:t[2]||(t[2]=n=>r.value=0)},"All",2),(c(),h(G,null,y(N,(n,f)=>s("button",{key:f+1,class:i({active:r.value===f+1}),onClick:ee=>r.value=f+1},u(n),11,$)),64))]),s("div",Z,[s("table",null,[t[3]||(I(-1,!0),(t[3]=s("thead",null,[t[4]||(t[4]=s("tr",null,[s("th",null,"Name"),s("th",null,"Add 5 Gb"),s("th",null,"Search Console"),s("th",null,"Smart Widget")],-1))])).cacheIndex=3,I(1),t[3]),s("tbody",null,[(c(!0),h(G,null,y(v.value,n=>(c(),h("tr",{key:n.id},[s("td",null,u(n.selectName),1),s("td",{class:i(["hasStatus",x(n)])},u(A(n)),3),s("td",{class:i(["hasStatus",F(n)])},u(M(n)),3),s("td",{class:i(["hasStatus",T(n)])},u(E(n)),3)]))),128))])])])]))}}},se=z(K,[["__scopeId","data-v-bab1a9c1"]]);export{se as default};
