import{_ as U,r,w as b,h as z,f as B,x as q,i as D,c as f,j as J,k as P,l as Q,a as s,y as Y,m as j,v as H,n as i,F as k,q as G,s as y,o as c,t as u,z as X}from"./index-BqLNUH2p.js";import{u as $,a as Z,P as K}from"./useLoading-Dao-xLCb.js";import w from"./Loading-LhuL1v16.js";const ee={class:"body-content"},te={class:"filter-sort flex"},ne=["onClick"],se={class:"table-views"},le={__name:"OnlineWebsiteViews",setup(oe){const I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],L="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRbhLBcw4jg80ogDxEeLs5wRrsQdFrWoN0g8OGy3aO_YJ0UoL-BIhuY8EozSzuTXppIIbfqp100FYIZ/pub?gid=1419480009&single=true&output=csv"),d=r([]),a=r(0),h=r(""),S=r(""),p=r(null);let v=null;b(h,e=>{clearTimeout(v),v=setTimeout(()=>S.value=(e||"").toLowerCase().trim(),200)});const C=new AbortController,{showLoading:N,hideLoading:_}=$(),x=z();B(async()=>{N();try{const e=await Z.get(L,{responseType:"text",signal:C.signal});K.parse(e.data,{header:!0,skipEmptyLines:!0,complete:({data:t})=>{let n=1;d.value=t.filter(l=>l==null?void 0:l.Name).map(l=>O(l,n++)),_()}})}catch{d.value=[],_()}}),q(()=>C.abort());const o=e=>String(e??"").trim(),m=e=>o(e).toLowerCase();function O(e,t){const n=Number(o(e.Month))||0,l=o(e.Name);return{id:t,selectName:l,selectfree5GB:o(e.Free5GB),selectfreeSearchConsole:o(e.FreeSearchConsole),selectfreeSmartWidget:o(e.FreeSmartWidget),onlineSearchConsole:o(e.OnlineSearchConsole),onlineSmartWidget:o(e.OnlineSmartWidget),Check5GB:o(e.Check5GB),onlineMonth:n,_name_lc:m(e.Name),_5gb_lc:m(e.Free5GB),_sc_lc:m(e.FreeSearchConsole),_sw_lc:m(e.FreeSmartWidget)}}const g=D(()=>{const e=a.value,t=S.value;return e===0&&!t?d.value:d.value.filter(n=>e===0||n.onlineMonth===e?t?n._name_lc.includes(t)||n._5gb_lc.includes(t)||n._sc_lc.includes(t)||n._sw_lc.includes(t):!0:!1)});function W(){p.value&&g.value.length>15&&p.value.scrollIntoView({behavior:"smooth",block:"end"})}b(g,()=>X(W)),B(W);function F(e){const t=e.selectfree5GB==="เพิ่มพื้นที่ (5 GB)";return!t&&!e.Check5GB?"NoService":t&&e.Check5GB==="Completed"?"Installed":t&&!e.Check5GB?"Wait":""}function M(e){return!e.selectfree5GB&&!e.Check5GB?"ไม่มีบริการ":e.selectfree5GB||"เพิ่มพื้นที่ (5 GB)"}function A(e){return e.onlineSearchConsole==="Installed"?"Installed":!e.onlineSearchConsole||e.onlineSearchConsole==="Wait"?"Wait":""}function T(e){const t=e.onlineSearchConsole;return!t||t==="Wait"?"Search Console":t==="Installed"?"Search Console Installed":e.selectfreeSearchConsole||"Search Console"}function E(e){const t=e.onlineSmartWidget;return t==="Installed"||e.selectfreeSmartWidget==="Smart Widget"?"Installed":t==="Google Ads"?"Ads":t==="ไม่มีบริการ"?"NoService":t==="Wait"?"Wait":""}function R(e){const t=e.onlineSmartWidget;return t==="ไม่มีบริการ"?"ไม่มีบริการ":t==="Google Ads"?"Google Ads":t==="Installed"?"Smart Widget Installed":t==="Wait"&&(e.selectfreeSmartWidget==="Smart Widget"||!e.selectfreeSmartWidget)?"Smart Widget":e.selectfreeSmartWidget||"Smart Widget"}return(e,t)=>(c(),f("div",ee,[J(x).isLoading?(c(),P(w,{key:0})):Q("",!0),s("div",te,[s("form",{id:"search_box",onSubmit:t[1]||(t[1]=Y(()=>{},["prevent"]))},[j(s("input",{class:"search-input",type:"search",placeholder:"Search...","onUpdate:modelValue":t[0]||(t[0]=n=>h.value=n),autocomplete:"off"},null,512),[[H,h.value]])],32),s("button",{class:i({active:a.value===0}),onClick:t[2]||(t[2]=n=>a.value=0)},"All",2),(c(),f(k,null,G(I,(n,l)=>s("button",{key:l+1,class:i({active:a.value===l+1}),onClick:V=>a.value=l+1},u(n),11,ne)),64))]),s("div",se,[s("table",null,[t[3]||(y(-1,!0),(t[3]=s("thead",null,[t[4]||(t[4]=s("tr",null,[s("th",null,"Name"),s("th",null,"Space 5GB"),s("th",null,"Search Console"),s("th",null,"Smart Widget")],-1))])).cacheIndex=3,y(1),t[3]),s("tbody",null,[(c(!0),f(k,null,G(g.value,n=>(c(),f("tr",{key:n.id},[s("td",null,u(n.selectName),1),s("td",{class:i(["hasStatus",F(n)])},u(M(n)),3),s("td",{class:i(["hasStatus",A(n)])},u(T(n)),3),s("td",{class:i(["hasStatus",E(n)])},u(R(n)),3)]))),128))])])])]))}},ce=U(le,[["__scopeId","data-v-7ec113ce"]]);export{ce as default};
