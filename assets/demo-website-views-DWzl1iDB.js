import{u as O,r as w,f,w as E,g as Q,_ as X,c as h,a as t,i as s,j as Z,F as W,k as j,t as v,l as J,m as B,v as K,p as q,n as P,q as Y,s as tt,x as et,o as m}from"./index-DvDUzVfj.js";import{u as st,a as lt,P as nt}from"./useLoading-DhY661q_.js";import{u as at}from"./useLoading-CIm6zIl6.js";import ot from"./loading-BmNfvv3A.js";function it(){const{showLoading:U,hideLoading:S}=st(),g=O(),p=w([]),L=w(""),i=w(null),u=w(null),a=w(1),r=w(100),N="https://corsproxy.io/?"+encodeURIComponent("https://docs.google.com/spreadsheets/d/e/2PACX-1vRM5lsZMJ-EGwUcT-XurRjV54V2Tnf2n7MYK0kgp7L6nROAl8clWcsZPAq8cidyIijawHVjIHa93pRg/pub?gid=1303784359&single=true&output=csv");async function D(){U();try{const n=await lt.get(N,{responseType:"text"});nt.parse(n.data,{header:!0,complete:o=>{p.value=o.data.filter(c=>c.Name).map((c,y)=>({id:y+1,column1:c.Name||"",column2:c.Note||"",column3:c.Status||""})),S()}})}catch{p.value=[],S()}}function R(n,o){i.value=n,u.value=o}function x(){i.value=null,u.value=null}function b(n,o){return i.value===n&&u.value===o}const M=f(()=>L.value!==""||i.value!==null&&u.value!==null);function V(){L.value="",x()}const C=f(()=>p.value.filter(n=>{const o=(L.value||"").toLowerCase(),c=n.column1.toLowerCase().includes(o)||n.column2.toLowerCase().includes(o)||n.column3.toLowerCase().includes(o),y=Number(n.id),F=i.value===null&&u.value===null||y>=i.value&&y<=u.value;return c&&F}).sort((n,o)=>n.id-o.id));E([C,r],()=>{a.value=1});const k=f(()=>C.value.length),d=f(()=>Math.max(1,Math.ceil(C.value.length/r.value||1)));E([k,r],()=>{a.value>d.value&&(a.value=d.value)});const _=f(()=>{const n=(a.value-1)*r.value,o=n+r.value;return C.value.slice(n,o)}),T=f(()=>k.value===0?0:(a.value-1)*r.value+1),I=f(()=>Math.min(a.value*r.value,k.value)),$=f(()=>{const o=Math.max(1,a.value-2),c=Math.min(d.value,a.value+2),y=[];for(let F=o;F<=c;F++)y.push(F);return y});function e(n){n>=1&&n<=d.value&&(a.value=n)}function l(){a.value<d.value&&a.value++}function A(){a.value>1&&a.value--}function z(){a.value=1}function G(){a.value=d.value}function H(n){return n?n.includes("Reserve")?"hasStatus Service":n.includes("Abort")?"hasStatus No":n.includes("Available")?"hasStatus Complete":"":""}return Q(D),{ui:g,sheetRows:p,searchQuery:L,filterMin:i,filterMax:u,currentPage:a,pageSize:r,hasActiveFilters:M,filteredCount:k,totalPages:d,paginatedData:_,displayFrom:T,displayTo:I,pageWindow:$,filterRange:R,clearFilter:x,isRangeActive:b,resetAllFilters:V,gotoPage:e,nextPage:l,prevPage:A,goFirst:z,goLast:G,statusDetect:H}}const ut={class:"table-view-container"},rt={class:"table-views"},dt={key:1},ct={class:"pagination-container"},vt={class:"pagination-info"},pt={class:"pagination-controls"},ft=["disabled"],mt=["disabled"],gt=["onClick"],bt=["disabled"],Ct=["disabled"],kt={class:"filter-sidebar"},yt={class:"filter-section"},ht={class:"filter-group"},Pt={class:"filter-group"},St={class:"filter-options"},Lt={class:"filter-group"},Rt={class:"filter-actions"},wt={class:"results-summary"},xt={class:"result-count"},Ft={__name:"demo-website-views",setup(U){const{searchQuery:S,currentPage:g,pageSize:p,hasActiveFilters:L,filteredCount:i,totalPages:u,paginatedData:a,displayFrom:r,displayTo:N,pageWindow:D,filterRange:R,clearFilter:x,isRangeActive:b,resetAllFilters:M,gotoPage:V,nextPage:C,prevPage:k,goFirst:d,goLast:_,statusDetect:T}=it(),{isLoading:I}=at(1200);return($,e)=>(m(),h("div",ut,[t("div",rt,[s(I)?(m(),Z(ot,{key:0})):(m(),h("table",dt,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Note"),t("th",null,"Status")])],-1)),t("tbody",null,[(m(!0),h(W,null,j(s(a),(l,A)=>(m(),h("tr",{key:l.id??A},[t("td",null,v(l.id),1),t("td",null,v(l.column1),1),t("td",null,v(l.column2),1),t("td",{class:P(s(T)(l.column3))},v(l.column3),3)]))),128))])])),t("div",ct,[t("div",vt,"Showing "+v(s(r))+"â€“"+v(s(N))+" of "+v(s(i)),1),t("div",pt,[t("button",{disabled:s(g)===1,onClick:e[0]||(e[0]=(...l)=>s(d)&&s(d)(...l)),title:"First Page"},"Â«",8,ft),t("button",{disabled:s(g)===1,onClick:e[1]||(e[1]=(...l)=>s(k)&&s(k)(...l)),title:"Previous"},"â€¹",8,mt),(m(!0),h(W,null,j(s(D),l=>(m(),h("button",{key:l,class:P({active:l===s(g)}),onClick:A=>s(V)(l)},v(l),11,gt))),128)),t("button",{disabled:s(g)===s(u),onClick:e[2]||(e[2]=(...l)=>s(C)&&s(C)(...l)),title:"Next"},"â€º",8,bt),t("button",{disabled:s(g)===s(u),onClick:e[3]||(e[3]=(...l)=>s(_)&&s(_)(...l)),title:"Last Page"},"Â»",8,Ct)])])]),t("div",kt,[t("div",yt,[e[20]||(e[20]=t("div",{class:"filter-title"},"Filters",-1)),t("div",ht,[e[14]||(e[14]=t("label",{class:"filter-label"},"Search",-1)),t("form",{onSubmit:e[5]||(e[5]=J(()=>{},["prevent"]))},[B(t("input",{type:"search",class:"search-input",placeholder:"Search demo...","onUpdate:modelValue":e[4]||(e[4]=l=>q(S)?S.value=l:null),autocomplete:"off"},null,512),[[K,s(S)]])],32)]),t("div",Pt,[e[15]||(e[15]=t("label",{class:"filter-label"},"ID Range",-1)),t("div",St,[t("button",{class:P({active:s(b)(null,null)}),onClick:e[6]||(e[6]=(...l)=>s(x)&&s(x)(...l))},"All",2),t("button",{class:P({active:s(b)(1,199)}),onClick:e[7]||(e[7]=l=>s(R)(1,199))},"1â€“199",2),t("button",{class:P({active:s(b)(200,399)}),onClick:e[8]||(e[8]=l=>s(R)(200,399))},"200â€“399",2),t("button",{class:P({active:s(b)(400,599)}),onClick:e[9]||(e[9]=l=>s(R)(400,599))},"400â€“599",2),t("button",{class:P({active:s(b)(600,800)}),onClick:e[10]||(e[10]=l=>s(R)(600,800))},"600â€“800",2)])]),t("div",Lt,[e[17]||(e[17]=t("label",{class:"filter-label"},"Per Page",-1)),B(t("select",{class:"dropdown","onUpdate:modelValue":e[11]||(e[11]=l=>q(p)?p.value=l:null)},e[16]||(e[16]=[t("option",{value:10},"10 items",-1),t("option",{value:20},"20 items",-1),t("option",{value:50},"50 items",-1),t("option",{value:100},"100 items",-1)]),512),[[Y,s(p),void 0,{number:!0}]])]),t("div",Rt,[s(L)?(m(),h("button",{key:0,onClick:e[12]||(e[12]=(...l)=>s(M)&&s(M)(...l)),class:"btn-reset"},e[18]||(e[18]=[t("span",null,"ðŸ”„",-1),tt(" Reset All")]))):et("",!0)]),t("div",wt,[t("span",xt,v(s(i)),1),e[19]||(e[19]=t("span",{class:"result-label"},"demos found",-1))])])])]))}},Dt=X(Ft,[["__scopeId","data-v-2f13e673"]]);export{Dt as default};
